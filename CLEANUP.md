# ğŸ§¹ LRPC æ¸…ç†å·¥å…·ä½¿ç”¨æŒ‡å—

æœ¬é¡¹ç›®æä¾›äº†å…¨é¢çš„è‡ªåŠ¨æ¸…ç†åŠŸèƒ½æ¥ç®¡ç†æµ‹è¯•ç¯å¢ƒå’Œä¸­é—´æ–‡ä»¶ã€‚

## ğŸš€ å¿«é€Ÿæ¸…ç†

```bash
# æ ‡å‡†æ¸…ç† - æ¸…ç†æ–‡ä»¶å’Œæµ‹è¯•å®¹å™¨
make clean

# å®Œå…¨æ¸…ç† - æ¸…ç†æ‰€æœ‰å†…å®¹(æ–‡ä»¶+ç¼“å­˜+Docker)
make clean-all

# å®‰å…¨æ¸…ç† - ä¼šå…ˆè¯¢é—®ç¡®è®¤
make clean-safe
```

## ğŸ“‹ æ¸…ç†ç±»åˆ«

### ğŸ—‚ï¸ æ–‡ä»¶æ¸…ç†
```bash
make clean-files    # æ¸…ç†ç”Ÿæˆçš„æ–‡ä»¶(*.out, *.html, *.log, *.tmp)
```
è‡ªåŠ¨æ¸…ç†ï¼š
- è¦†ç›–ç‡æŠ¥å‘Š (`*.out`, `coverage*.html`)
- æ—¥å¿—æ–‡ä»¶ (`*.log`)  
- ä¸´æ—¶æ–‡ä»¶ (`*.tmp`, `*.temp`)
- ä¸´æ—¶ç›®å½• (`tmp/`, `temp/`, `.tmp/`)

### ğŸ³ Dockerèµ„æºæ¸…ç†
```bash
make clean-docker   # å¼ºåˆ¶æ¸…ç†æ‰€æœ‰Dockeræµ‹è¯•èµ„æº
```
æ¸…ç†å†…å®¹ï¼š
- æµ‹è¯•å®¹å™¨ (lrpc-test-*)
- å­¤ç«‹é•œåƒå’Œç½‘ç»œ
- ç›¸å…³Dockerå·
- åƒµå°¸å®¹å™¨è¿›ç¨‹

### ğŸ—„ï¸ ç¼“å­˜æ¸…ç†
```bash
make clean-cache    # æ¸…ç†Goæµ‹è¯•å’Œæ„å»ºç¼“å­˜
```
æ¸…ç†å†…å®¹ï¼š
- Goæµ‹è¯•ç¼“å­˜ (`go clean -testcache`)
- Goæ„å»ºç¼“å­˜ (`go clean -cache`) 
- Goæ¨¡å—ç¼“å­˜ (`go clean -modcache`)

### ğŸ§ª æµ‹è¯•ç¯å¢ƒæ¸…ç†
```bash
make clean-test     # æ¸…ç†æµ‹è¯•ç¯å¢ƒ(åŒ test-teardown)
make test-teardown  # åœæ­¢å¹¶åˆ é™¤æµ‹è¯•æœåŠ¡
```

## ğŸ›¡ï¸ å®‰å…¨æ¨¡å¼

### äº¤äº’å¼å®‰å…¨æ¸…ç†
```bash
make clean-safe
```
- ä¼šåˆ—å‡ºè¦æ¸…ç†çš„å†…å®¹
- éœ€è¦ç”¨æˆ·ç¡®è®¤åæ‰æ‰§è¡Œ
- é€‚åˆæ—¥å¸¸å¼€å‘ä½¿ç”¨

### ç´§æ€¥æ¸…ç†æ¨¡å¼
```bash  
make clean-emergency
```
- å¼ºåˆ¶æ¸…ç†æ‰€æœ‰èµ„æº
- æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹
- ç”¨äºè§£å†³èµ„æºå ç”¨é—®é¢˜
- è°¨æ…ä½¿ç”¨ï¼

## ğŸ” æ£€æŸ¥å·¥å…·

### æ¸…ç†çŠ¶æ€æ£€æŸ¥
```bash
make clean-check
```
æ˜¾ç¤ºï¼š
- ğŸ“ å‰©ä½™çš„ç”Ÿæˆæ–‡ä»¶
- ğŸ³ Dockerå®¹å™¨çŠ¶æ€  
- ğŸŒ ç«¯å£å ç”¨æƒ…å†µ
- è¯¦ç»†çš„æ¸…ç†å»ºè®®

### å®Œå…¨é‡ç½®ç¯å¢ƒ
```bash
make reset
```
= `clean-all` + `deps`
- å®Œå…¨æ¸…ç†ç¯å¢ƒ
- é‡æ–°ä¸‹è½½ä¾èµ–
- é€‚åˆè§£å†³ç¯å¢ƒé—®é¢˜

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### æ—¥å¸¸å¼€å‘
```bash
make clean          # æ ‡å‡†æ¸…ç†ï¼Œä¿ç•™ç¼“å­˜
make dev-test       # å¿«é€Ÿæµ‹è¯•
```

### å½»åº•æ¸…ç†
```bash
make clean-all      # å®Œå…¨æ¸…ç†
make test           # é‡æ–°æµ‹è¯•
```

### é—®é¢˜æ’æŸ¥
```bash
make clean-check    # æ£€æŸ¥çŠ¶æ€
make clean-emergency # å¼ºåˆ¶æ¸…ç†(å¦‚æœ‰å¿…è¦)
make reset          # é‡ç½®ç¯å¢ƒ
```

### CI/CDç¯å¢ƒ
```bash
make clean-all      # æ¯æ¬¡æ„å»ºå‰å®Œå…¨æ¸…ç†
make test           # å¹²å‡€ç¯å¢ƒæµ‹è¯•
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **`clean-emergency`**: ä¼šå¼ºåˆ¶æ€æ­»è¿›ç¨‹ï¼Œè°¨æ…ä½¿ç”¨
2. **`clean-cache`**: æ¸…ç†æ¨¡å—ç¼“å­˜å¯èƒ½éœ€è¦ç®¡ç†å‘˜æƒé™
3. **ç«¯å£å ç”¨**: æ¸…ç†åç«¯å£å¯èƒ½éœ€è¦å‡ ç§’é’Ÿæ‰å®Œå…¨é‡Šæ”¾
4. **Dockeræƒé™**: ç¡®ä¿æœ‰Dockeræ“ä½œæƒé™

## ğŸ”§ è‡ªå®šä¹‰æ¸…ç†

å¯ä»¥ç»„åˆä½¿ç”¨ä¸åŒçš„æ¸…ç†å‘½ä»¤ï¼š

```bash
# åªæ¸…ç†æ–‡ä»¶ï¼Œä¿ç•™Dockerç¯å¢ƒ
make clean-files

# åªé‡å¯Dockerç¯å¢ƒï¼Œä¿ç•™æ–‡ä»¶  
make clean-docker test-setup

# æ£€æŸ¥ -> æ¸…ç† -> éªŒè¯æµç¨‹
make clean-check && make clean-all && make clean-check
```

## ğŸ“ è·å¾—å¸®åŠ©

```bash
make help           # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make clean-check    # æ£€æŸ¥å½“å‰çŠ¶æ€
```